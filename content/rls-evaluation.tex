\begin{frame}[standout]
  \alert{Evaluation}

  \bigskip
  Ran simulations to compare performance of RenamableLogootSplit to LogootSplit one
\end{frame}

\begin{frame}{Scenario}
  \begin{itemize}
    \item Simulate collaborative editing sessions using either LogootSplit or RenamableLogootSplit
    \item \textbf{Phase 1 (content generation):} 80/20\% of \emph{insert}/\emph{remove}
    \item \textbf{Phase 2 (editing):} 50/50\% of \emph{insert}/\emph{remove}
    \item Nodes switch to phase 2 when document reaches critical size (15 pages - 60k elements)
  \end{itemize}
\end{frame}

\begin{frame}{Experimental settings}
  \begin{itemize}
    \item Use Node.js version 13.1.0
    \item Obtained documents sizes using our fork of \emph{object-sizeof} \footnote{\url{https://www.npmjs.com/package/object-sizeof}}
    \item Ran benchmarks on a workstation equipped of a Intel Xeon CPU E5-1620 (10MB Cache, 3.50 GHz) with 16GB of RAM running Fedora 31
    \item Measured times using \texttt{process.hrtime.bigint()}
  \end{itemize}
\end{frame}

\begin{frame}{Results - Convergence}
  \begin{itemize}
    \item Compared final content of nodes per sessions
    \item Did not observe any divergence
    \bigskip
    \item Empirical result, not a proof...
    \item ... but represents first step towards the validation
  \end{itemize}
\end{frame}

\begin{frame}{Results - Memory footprint}
  \begin{figure}
    \centering
    \only<1>{\hspace{-10mm}\includegraphics[width=0.61\textwidth]{img/snapshots-sizes-1.pdf}}
    \includegraphics<2>[width=0.7\textwidth]{img/snapshots-sizes-2.pdf}
    \includegraphics<3>[width=0.7\textwidth]{img/snapshots-sizes.pdf}
    \caption{Evolution of the size of the document}
    \label{fig:evolution-document-size}
  \end{figure}

  \vspace{-1\baselineskip}
  \begin{itemize}
    \item<2-> \emph{Rename} resets the overhead of the CRDT, if can garbage collect
    \item<3> \emph{Rename} still reduces by $66\%$ the size otherwise
  \end{itemize}
\end{frame}

\begin{frame}{Results - Integration time of \emph{insert} operations}
  \begin{figure}
    \captionsetup[subfigure]{aboveskip=-1pt,belowskip=-1pt}
    \centering
    \begin{subfigure}{0.47\columnwidth}
        \includegraphics[width=1\textwidth]{img/integration-time-boxplot-local-operations-without-outliers.pdf}
        \caption{Local operations}
        \label{fig:evolution-integration-time-local-insert-remove}
    \end{subfigure}
    \begin{subfigure}{0.47\columnwidth}
        \includegraphics[width=1\textwidth]{img/integration-time-boxplot-remote-operations-without-outliers.pdf}
        \caption{Remote operations}
        \label{fig:evolution-integration-time-remote-insert-remove}
    \end{subfigure}
    \caption{Evolution of the integration time of \emph{insert} operations}
    \label{fig:evolution-integration-time-insert-remove}
  \end{figure}

  \vspace{-1\baselineskip}
  \begin{itemize}
    \item<2-> \emph{Rename} reduces integration times of future operations
    \item<3> Transforming concurrent operations is actually faster than applying them on former state
  \end{itemize}

\end{frame}

\begin{frame}{Results - Integration time of \emph{rename} operations}
  \begin{table}[!ht]
      \centering
      \resizebox{\columnwidth}{!}{
          \begin{tabular}{lrrrrr}
              \toprule
              \multicolumn{2}{c}{Parameters} & \multicolumn{4}{c}{Integration Time (ms)} \\
              \cmidrule(lr){1-2} \cmidrule(lr){3-6}
              Type & Nb Ops (k) &   Mean &   Median & 99\textsuperscript{th} Quant. &    Std \\
              \midrule
              Local & 30  &    41.75 &    38.74 &      71.68 &   6.84 \\
                                      & 90  &   119.19 &   118.87 &     124.22 &   2.49 \\
                                      & 150 &   158.04 &   157.95 &     164.38 &   2.49 \\
              \cmidrule(lr){1-6}
              Remote & 30  &   481.32 &   477.13 &     537.30 &  17.11 \\
                                      & 90  &  1491.28 &  1481.83 &    1657.58 &  51.10 \\
                                      & 150 &  1694.17 &  1675.95 &    1852.55 &  59.94 \\
              \bottomrule
          \end{tabular}
      }
      \caption{Integration time of rename operations}
  \end{table}

  \begin{itemize}
    \item<2-> Noticeable by users
    \item<3> Need to improve remote integration time
  \end{itemize}
\end{frame}

\begin{frame}{Results - Integration time of \emph{rename} operations (complete)}
  \begin{table}[!ht]
      \centering
      \resizebox{\columnwidth}{!}{
          \begin{tabular}{lrrrrr}
              \toprule
              \multicolumn{2}{c}{Parameters} & \multicolumn{4}{c}{Integration Time (ms)} \\
              \cmidrule(lr){1-2} \cmidrule(lr){3-6}
              Type & Nb Ops (k) &   Mean &   Median & 99\textsuperscript{th} Quant. &    Std \\
              \midrule
              Local & 30  &    41.75 &    38.74 &      71.68 &   6.84 \\
                                      & 90  &   119.19 &   118.87 &     124.22 &   2.49 \\
                                      & 150 &   158.04 &   157.95 &     164.38 &   2.49 \\
              \cmidrule(lr){1-6}
              Direct remote & 30  &   481.32 &   477.13 &     537.30 &  17.11 \\
                                      & 90  &  1491.28 &  1481.83 &    1657.58 &  51.10 \\
                                      & 150 &  1694.17 &  1675.95 &    1852.55 &  59.94 \\
              \cmidrule(lr){1-6}
              Cc. int. greater epoch & 30  &   643.53 &   643.57 &     682.80 &  13.42 \\
                                      & 90  &  1998.23 &  1994.08 &    2111.98 &  45.37 \\
                                      & 150 &  2241.92 &  2233.61 &    2351.02 &  52.20 \\
              \cmidrule(lr){1-6}
              Cc. int. lesser epoch & 30  &     1.36 &     1.30 &       3.53 &   0.37 \\
                                      & 90  &     4.45 &     4.23 &       5.81 &   0.71 \\
                                      & 150 &     5.53 &     5.26 &       8.70 &   0.79 \\
              \bottomrule
          \end{tabular}
      }
      \caption{Integration time of rename operations}
  \end{table}
\end{frame}
